<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Adan assignments for JavaScript, AJAX course at College of San Mateo">
    <title> CIS 114 </title>
    
    <style>
      input {text-align: right;}
      body {background-color: #f5f5dc;}
      .body { width: 550px; margin: 0px auto;}
    </style>
    
    <script>
      const itemInput = () => {
        let one = document.getElementById("item1").value;
        let two = document.getElementById("item2").value;
        let three = document.getElementById("item3").value;
        let four = document.getElementById("item4").value;

        let ione = parseInt(one);
        let itwo = parseInt(two);
        let ithree = parseInt(three);
        let ifour = parseInt(four);
        
        // Check if the inputs are negtives
        if ((ione >= 0) && (itwo >= 0) && (ithree >= 0) && (ifour >= 0)) {
          checkIsNotNumber(ione, itwo, ithree, ifour);
        } else {
          handleError();
        }
      }
      
      const checkIsNotNumber = (one, two, three, four) => {

        let check = one + two + three + four;

        if ((Number.isNaN(check)) && (one < 0) && (two < 0) && (three < 0) && (four < 0)) {
          handleError();
        } else {
          numberSold(one, two, three, four);
        cleanError();
    }
}
      const numberSold = (item1, item2, item3, item4) => {

        let one = document.getElementById("item-one").value = item1;
        let two = document.getElementById("item-two").value = item2;
        let three = document.getElementById("item-three").value = item3;
        let four = document.getElementById("item-four").value = item4;
        total(one, two, three, four);

      }

      const total = (item1, item2, item3, item4) => {

      let ione = document.getElementById("item-one-result").value = (item1 * 20.99).toFixed(2);
      let itwo = document.getElementById("item-two-result").value = (item2 * 12.75).toFixed(2);
      let ithree = document.getElementById("item-three-result").value = (item3 * 9.95).toFixed(2);
      let ifour = document.getElementById("item-four-result").value = (item4 * 35.89).toFixed(2);

        totalAmountSold(ione, itwo, ithree, ifour);
      }

      const totalAmountSold = (item1, item2, item3, item4) => {
   
        let total = parseFloat(item1) + parseFloat(item2) + parseFloat(item3) + parseFloat(item4);
        let grossTotal = document.getElementById("total-amount-sold").value = total.toFixed(2);

        weeklyEarnings(grossTotal);
      }

      const weeklyEarnings = (total) => {
        let salaryPerWeek = 250;
        let percentOfGrossSales = 0.09;

        let totalEarns = (percentOfGrossSales * parseFloat(total)) + salaryPerWeek;
        document.getElementById("weekly-earns").value = totalEarns.toFixed(2);
      }

      const handleError = () => {
        document.getElementById("error").innerHTML = `
        <p class="alert-error" >Enter valid numeric value and fill all the inputs.</p>`;
        document.getElementById("item-one").value = "";
        document.getElementById("item-two").value = "";
        document.getElementById("item-three").value = "";
        document.getElementById("item-four").value = "";

        document.getElementById("item-one-result").value = "";
        document.getElementById("item-two-result").value = "";
        document.getElementById("item-three-result").value = "";
        document.getElementById("item-four-result").value = "";

        document.getElementById("total-amount-sold").value = "";
        document.getElementById("weekly-earns").value = "";
      }

      const cleanError = () => {
        document.getElementById("error").innerHTML = "";
      }

      const resetAll = () => {
        document.getElementById("error").innerHTML = "";
        document.getElementById("item-one").value = "";
        document.getElementById("item-two").value = "";
        document.getElementById("item-three").value = "";
        document.getElementById("item-four").value = "";

        document.getElementById("item-one-result").value = "";
        document.getElementById("item-two-result").value = "";
        document.getElementById("item-three-result").value = "";
        document.getElementById("item-four-result").value = "";

        document.getElementById("total-amount-sold").value = "";
        document.getElementById("weekly-earns").value = "";
      }
    
    </script>
  </head>
  <body>
    <header>
      <h1>Part 2</h1>
    </header>
    
    <div class="form-style">
      <h1><strong>salespeople on a commission basis </strong></h1>
      <form name="my-form">
        <label>
          <span><strong>Salesperson:</strong></span>
          <input type="text" id="salesperson-name" name="num1" min="0" autofocus title="Please make sure that the salesperson's name is spelled correctly"><br>
        </label>
        
        <h2>Input the number of items sold for each item number</h2>
        <label>
          <span><strong>Item 1:</strong> </span>
          <input type="number" id="item1" name="num1" min="0" autofocus><br>
        </label>
        
        <label>
          <span><strong>Item 2:</strong> </span>
          <input type="number" id="item2" name="num1" min="0"><br>
        </label>
        
        <label>
          <span> <strong> Item 3:</strong> </span>
          <input type="number" id="item3" name="num1" min="0"><br>
        </label>
        
        <label>
          <span><strong>Item 4:</strong></span>
          <input type="number" id="item4" name="num1" min="0"><br>
        </label>
        
        <input type="button" id="fadein-result" onclick="itemInput()" value="Submit">
        
        <input type="reset" onclick="resetAll()" value="Reset">
        <br>
        <div id="error"></div>
        <br>
        <br>
        
        <table>
          <tr>
            <th>Item #</th>
            <th>Price</th>
            <th>Number Sold</th>
            <th>Total</th>
          </tr>
          
          <tr>
            <td class="table-data">1</td>
            <td class="table-data">$20.99</td>
            <td><input style="text-align: center;" type="number" id="item-one" name="num1" min="0"readonly>
              <br>
            </td>
            
            <td><input style="text-align: center;" type="number" id="item-one-result" name="num1" min="0"readonly>
              <br>
            </td>
          </tr>
          
          <tr>
            <td class="table-data">2</td>
            <td class="table-data">$12.75</td>readonly><br>
                        </td>
                        <td><input style="text-align: center;" type="number" id="item-two-result" name="num1" min="0"
                                readonly><br>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-data">3</td>
                        <td class="table-data">$9.95</td>
                        <td><input style="text-align: center;" type="number" id="item-three" name="num1" min="0"
                                readonly><br>
                        </td>
                        <td><input style="text-align: center;" type="number" id="item-three-result" name="num1" min="0" readonly>
                          <br>
                      </td>
      </tr>
      
      <tr>
        <td class="table-data">4</td>
        <td class="table-data">$35.89</td>
        <td><input style="text-align: center;" type="number" id="item-four" name="num1" min="0" readonly>
          <br>
        </td>
        <td><input style="text-align: center;" type="number" id="item-four-result" name="num1" min="0" readonly>
          <br>
        </td>
      </tr>
      
      <tr>
        <td class="table-data"><strong>Total Amount Sold:</strong> </td>
        <td></td>
        <td></td>
        <td><input style="text-align: center;" type="number" id="total-amount-sold" name="num1" min="0" readonly>
          <br>
        </td>
      </tr>
      
      <tr>
        <td class="table-data">
          <strong>Total Weekly Earnings:</strong>
        </td>
        <td></td>
        <td></td>
        <td><input style="text-align: center;" type="number" id="weekly-earns" name="num1" min="0" readonly>
          <br>
        </td>
      </tr>
      </table>
    </form>
  </div>


    <p><a href="index.html">Main Page</a></p>
  </body>
</html>
