<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Adan assignments for JavaScript, AJAX course at College of San Mateo">
    <title> CIS 114 </title>
    
    <style>
      input {text-align: right;}
      body {background-color: #f5f5dc;}
      .body { width: 550px; margin: 0px auto;}
    </style>
    
    <script>
      const studentGrades = () => {
        // Getting user inputs
        let homework = document.getElementById("hw-score").value;
        let midTerm = document.getElementById("mt-score").value;
        let final = document.getElementById("fn-score").value;
        let participation = document.getElementById("p-score").value;
        
        // Parsing string values to int
        let hwAvg = parseInt(homework);
        let midExam = parseInt(midTerm);
        let finalExam = parseInt(final);
        let p = parseInt(participation);

        // Checking if the users' input is 0 - 100
        if ((hwAvg <= 100 && hwAvg >= 0) && (midTerm <= 100 && midTerm >= 0) && (finalExam <= 100 && finalExam >= 0) && (p <= 100 && p >= 0)) {

        // getting total average score
        let finalAverage = (.5 * hwAvg) + (.2 * midExam) + (.2 * finalExam) + (.1 * p);

          averageTotal(finalAverage)

        } else {
          handleError();
        }

      }

      // This function handle the total average grades ex. 90 - 100 A   
      const averageTotal = (total) => {
        if (Number.isNaN(total)) {
          handleError();
        } else {
          let rountTotal = Math.round(total);

          if (rountTotal >= 90) {

            handleGrades(rountTotal, "A");

          } else if (rountTotal >= 80 && rountTotal <= 89) {

            handleGrades(rountTotal, "B")

          } else if (rountTotal >= 70 && rountTotal <= 79) {

            handleGrades(rountTotal, "C")
          
          } else if (rountTotal >= 60 && rountTotal <= 69) {

            handleGradesDandF(rountTotal, "D")

          } else if (rountTotal <= 59) {
            
            handleGradesDandF(rountTotal, "F")

          } else {
            console.log("error");
          }
        }
      }
      const handleGrades = (total, letter) => {
        document.getElementById("result").value = (`Student Final Average: ${total} ${letter}`);

        document.getElementById("error").innerHTML = ""

      }
      const handleGradesDandF = (total, letter) => {
        document.getElementById("result").value = (`Student Final Average: ${total} ${letter} 
        Student must retake the course`);

        document.getElementById("error").innerHTML = ""
      }

      const handleError = () => {
        document.getElementById("error").innerHTML = `
        <p class="alert-error" >Enter valid values 0 - 100 and make sure all fields are filled with any number.</p>`;
        document.getElementById("result").value = ""

      }

      const resetResult = () => {
        document.getElementById("result").innerHTML = ""
        document.getElementById("error").innerHTML = ""
      }
    </script>
  
  </head>
  
  <body>
    <header>
      <h1>Part 1</h1>
    </header>
    <table>
      <div class="form-style">
      <h1><strong>Students Grades</strong></h1>
      <form name="my-form">
        <tr>
          <label><strong>Homework score:</strong></label>
          <input type="number" id="hw-score" name="num1" autofocus><br>
        </tr>
        <br><br>
        
        <tr>
          <label><strong>Min-term score:</strong></label>
          <input type="number" id="mt-score" name="num2"><br>
        </tr>
        <br><br>
        
        <tr>
          <label><strong>Final Exam score:</strong></label>
          <input type="number" id="fn-score" name="num3"><br>
        </tr>
        <br><br>
          
        <tr> 
          <label><strong>Participation score:</strong></label>
          <input type="number" id="p-score" name="num3"><br>
        </tr>
        <br><br>
        
        <tr>
          <input type="text" id="result" placeholder="Result" readonly 
                 style="height: fit-content;">
          <input type="button" id="fadein-result" onclick="studentGrades()" value="Submit">
        </tr>
        <br><br>
        
        <tr>
          <input type="reset" onclick="resetResult()" value="Reset">
        </tr>
        
        </form>
        
        <div id="error"></div>
        
      </div>
    </table>
    
    <p><a href="index.html">Main Page</a></p>
  </body>

</html>
